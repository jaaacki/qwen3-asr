# E2E Test Report â€” 2026-02-21 23:16:06

## âŒ Summary

| Metric | Value |
|--------|-------|
| Total | 46 |
| âœ… Passed | 39 |
| âŒ Failed | 1 |
| â­ï¸ Skipped | 6 |
| â±ï¸ Total Duration | 50.5s |
| â±ï¸ p50 Duration | 0.01s |
| ğŸ¢ Slowest | test_transcribe_medium_audio (21.1s) |
| ğŸ¤– Model | Qwen/Qwen3-ASR-1.7B |
| ğŸ–¥ï¸ GPU | N/A |

## âŒ Failures

| Test | Error |
|------|-------|
| `test_transcribe_short_audio` | `E   For more information check: https://httpstatuses.com/500` |

## â­ï¸ Skipped

| Test | Reason |
|------|--------|
| `test_transcribe_returns_timestamps_when_requested` | Server does not support return_timestamps (no forced_aligner configured) |
| `test_fast_model_for_partials` | Requires DUAL_MODEL=true environment variable |
| `test_full_model_for_http` | Requires DUAL_MODEL=true environment variable |
| `test_int8_quantization_produces_output` | Requires QUANTIZE=int8 or fp8 environment variable |
| `test_fp8_quantization_produces_output` | Requires QUANTIZE=int8 or fp8 environment variable |
| `test_quantized_output_quality` | Requires QUANTIZE=int8 or fp8 environment variable |

## ğŸ™ï¸ Transcription Results

| Test | Audio | Transcription | Language | Duration |
|------|-------|---------------|----------|----------|
| `test_transcribe_medium_audio` | test01_20s.wav | Dancing in the masquerade, idle truth in plain sight, jaded. Pop, roll, click, s | English | 21.1s |
| `test_transcribe_with_language_param` | short_5s.wav | A sine wave. | English | 0.2s |
| `test_client_transcribe_bytes` | short_5s.wav | " |  | 0.1s |

## ğŸ“„ Subtitle Results

| Test | Audio | Events | Max Duration | Max Line | First Event |
|------|-------|--------|--------------|----------|-------------|
| `test_returns_non_empty_srt` | speech_5s.wav | 1 | 5.0s | 40 chars | However, due to |
| `test_timestamp_format` | speech_5s.wav | 1 | 5.0s | 40 chars | However, due to |
| `test_start_before_end` | speech_5s.wav | 1 | 5.0s | 40 chars | However, due to |
| `test_content_disposition_header` | speech_5s.wav | 0 | â€” | â€” | â€” |
| `test_with_explicit_language` | speech_5s.wav | 1 | 5.0s | 40 chars | However, due to |

## âš¡ Performance Metrics

| Test | Metric | Value |
|------|--------|-------|
| test_returns_non_empty_srt | SRT Max Duration | 5.00s |
| test_timestamp_format | SRT Max Duration | 5.00s |
| test_start_before_end | SRT Max Duration | 5.00s |
| test_with_explicit_language | SRT Max Duration | 5.00s |

## Results by Category

| Category | âœ… Passed | âŒ Failed | â­ï¸ Skipped |
|----------|----------|----------|-----------|
| âŒ HTTP API | 13 | 1 | 1 |
| âœ… Integration | 2 | 0 | 5 |
| âœ… Subtitle | 8 | 0 | 0 |
| âœ… WebSocket | 16 | 0 | 0 |

## All Tests

| Test | Status | Duration | SLA |
|------|--------|----------|-----|
| `test_health_returns_200` | âœ… PASSED | 0.00s | âœ… |
| `test_health_has_expected_fields` | âœ… PASSED | 0.00s | âœ… |
| `test_health_status_is_healthy` | âœ… PASSED | 0.00s | âœ… |
| `test_health_gpu_info_when_available` | âœ… PASSED | 0.00s | âœ… |
| `test_transcribe_short_audio` | âŒ FAILED | 13.42s | â€” |
| `test_transcribe_medium_audio` | âœ… PASSED | 21.08s | âœ… |
| `test_transcribe_with_language_param` | âœ… PASSED | 0.17s | âœ… |
| `test_transcribe_returns_timestamps_when_requested` | â­ï¸ SKIPPED | 0.03s | â€” |
| `test_empty_file_upload` | âœ… PASSED | 0.01s | âœ… |
| `test_invalid_audio_format` | âœ… PASSED | 0.01s | âœ… |
| `test_missing_file_parameter` | âœ… PASSED | 0.00s | âœ… |
| `test_very_small_audio` | âœ… PASSED | 0.02s | âœ… |
| `test_client_context_manager` | âœ… PASSED | 0.02s | âœ… |
| `test_client_transcribe_bytes` | âœ… PASSED | 0.12s | âœ… |
| `test_client_health_includes_model_info` | âœ… PASSED | 0.02s | âœ… |
| `test_fast_model_for_partials` | â­ï¸ SKIPPED | 0.00s | â€” |
| `test_full_model_for_http` | â­ï¸ SKIPPED | 0.00s | â€” |
| `test_int8_quantization_produces_output` | â­ï¸ SKIPPED | 0.00s | â€” |
| `test_fp8_quantization_produces_output` | â­ï¸ SKIPPED | 0.00s | â€” |
| `test_quantized_output_quality` | â­ï¸ SKIPPED | 0.00s | â€” |
| `test_websocket_recovery_after_error` | âœ… PASSED | 0.34s | âœ… |
| `test_http_recovery_after_timeout` | âœ… PASSED | 0.21s | âœ… |
| `test_returns_non_empty_srt` | âœ… PASSED | 0.31s | âœ… |
| `test_timestamp_format` | âœ… PASSED | 0.30s | âœ… |
| `test_start_before_end` | âœ… PASSED | 0.29s | âœ… |
| `test_content_disposition_header` | âœ… PASSED | 5.65s | âœ… |
| `test_with_explicit_language` | âœ… PASSED | 0.27s | âœ… |
| `test_empty_file_returns_4xx` | âœ… PASSED | 0.01s | âœ… |
| `test_missing_file_returns_422` | âœ… PASSED | 0.00s | âœ… |
| `test_invalid_mode_returns_4xx` | âœ… PASSED | 0.04s | âœ… |
| `test_connect_success` | âœ… PASSED | 0.01s | âœ… |
| `test_connection_info_has_required_fields` | âœ… PASSED | 0.01s | âœ… |
| `test_connection_sample_rate_is_16000` | âœ… PASSED | 0.01s | âœ… |
| `test_connection_format_is_pcm_s16le` | âœ… PASSED | 0.01s | âœ… |
| `test_send_audio_chunk` | âœ… PASSED | 5.01s | âœ… |
| `test_flush_empty_buffer` | âœ… PASSED | 0.01s | âœ… |
| `test_flush_with_audio` | âœ… PASSED | 0.60s | âœ… |
| `test_disconnect_transcribes_remaining` | âœ… PASSED | 0.01s | âœ… |
| `test_reset_command` | âœ… PASSED | 0.01s | âœ… |
| `test_config_set_language` | âœ… PASSED | 0.01s | âœ… |
| `test_config_set_auto_language` | âœ… PASSED | 0.01s | âœ… |
| `test_invalid_json_handled` | âœ… PASSED | 0.01s | âœ… |
| `test_unknown_action_handled` | âœ… PASSED | 2.01s | âœ… |
| `test_send_before_connect_fails` | âœ… PASSED | 0.00s | âœ… |
| `test_flush_before_connect_fails` | âœ… PASSED | 0.00s | âœ… |
| `test_invalid_websocket_url` | âœ… PASSED | 0.00s | âœ… |
